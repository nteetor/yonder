/*!
  * bsides v0.2.0.9000 (https://nteetor.github.com/yonder)
  * Copyright 2011-2025 Nathan Teetor <nate@haufin.ch>
  * Licensed under MIT (https://github.com/nteetor/yonder/blob/main/LICENSE.note)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).$)}(this,(function(e){"use strict";class t{static get prefix(){return"bsides"}static get type(){throw"not implemented"}static get namespace(){return`.${this.type}`}get events(){return[]}constructor(){this.priority="deferred"}find(t){return e(t).find(`.${this.constructor.prefix}-${this.constructor.type}`)}getId(e){return e.id}getType(e){return null}getValue(e){throw"not implemented"}subscribe(t,r){this.events.forEach((s=>{const i=`${s.type?s.type:s}${this.constructor.namespace}`,n=s.selector?s.selector:null;console.log(`${i}, ${n}, ${this.priority}`),e(t).on(i,n,(e=>{r(this.priority)}))}))}unsubscribe(t){e(t).off(this.namespace)}receiveMessage(e,t){throw"not implemented"}getState(e){throw"not implemented"}getRatePolicy(e){return null}initialize(e){}dispose(e){}}class r extends t{static get type(){return"button"}get events(){return["click"]}get data(){return{clicks:`${this.constructor.prefix}-clicks`}}initialize(t){const r=e(t);r.data(this.data.clicks,0),r.on(`click${this.constructor.namespace}`,(e=>{const t=+r.data(this.data.clicks);r.data(this.data.clicks,t+1)}))}getType(e){return`${this.constructor.prefix}${this.constructor.namespace}`}getValue(t){return e(t).data(this.data.clicks)}receiveMessage(e,t){}}class s extends t{static get type(){return"checkbox"}get events(){return["change"]}get selectors(){return{label:".form-check-label",value:".form-check-input"}}getValue(t){return e(t).children(this.selectors.value).prop("checked")}receiveMessage(t,r){const s=e(t),i=s.find(this.selectors.label),n=s.find(this.selectors.value);r.hasOwnProperty("choice")&&i.html(r.choice),r.hasOwnProperty("value")&&n.prop("checked",r.value),r.hasOwnProperty("disable")&&n.prop("disabled",r.disable),s.trigger("change")}}class i extends t{static get type(){return"checkboxgroup"}get events(){return["change"]}get selectors(){return{choice:".form-check-label,.btn",value:".form-check-input,.btn-check"}}getType(e){return`${this.constructor.prefix}${this.constructor.namespace}`}getValue(t){return e(t).find(this.selectors.value).filter(":checked").map(((e,t)=>t.value)).get()}receiveMessage(t,r){const s=e(t),i=s.find(this.selectors.value);r.hasOwnProperty("options")&&(s.find(".form-check").remove(),s.html(r.options)),r.hasOwnProperty("select")&&(i.prop("checked",!1),i.filter(((e,t)=>r.select.includes(t.value))).prop("checked",!0)),r.hasOwnProperty("disable")&&(i.prop("disabled",!1),i.filter(((e,t)=>r.disable.includes(t.value))).prop("disabled",!0)),s.trigger("change")}}class n extends t{static get type(){return"form"}get events(){return[{event:"click",selector:this.selectors.submit}]}get selectors(){return{submit:".bsides-btn-submit"}}get data(){return{value:`${this.constructor.prefix}-value`}}initialize(t){const r=e(t);let s=new Map;r.on(`shiny:inputchanged${this.constructor.namespace}`,(e=>{if(e.el&&"event"!==e.priority&&t.contains(e.el)){const t=e.inputType?`${e.name}:${e.inputType}`:e.name;s.set(t,e.value),e.preventDefault()}})),r.on(`click${this.constructor.namespace}`,this.selectors.submit,(e=>{e.preventDefault();for(const[e,t]of s.entries())Shiny.setInputValue(e,t,{priority:"event"});const t=e.currentTarget.value;r.data(this.data.value,t)}))}getValue(t){return e(t).data(this.data.value)}receiveMessage(t,r){const s=e(t);if(r.hasOwnProperty("submit")){const e=r.submit;s.find(`${this.selectors.submit}[value=${e}]`).trigger("click")}}}class c extends t{static get type(){return"link"}get events(){return["click"]}get data(){return{clicks:`${this.constructor.prefix}-clicks`}}initialize(t){const r=e(t);r.data(this.data.clicks,0),r.on(`click${this.constructor.namespace}`,(e=>{const t=+r.data(this.data.clicks);r.data(this.data.clicks,t+1)}))}getType(e){return`${this.constructor.prefix}${this.constructor.namespace}`}getValue(t){return e(t).data(this.data.clicks)}}class a extends t{static get type(){return"listgroup"}get events(){return["click"]}get selectors(){return{choice:".list-group-item-action",value:".list-group-item-action"}}get data(){return{value:`${this.constructor.prefix}-value`}}initialize(t){e(t).on("click",this.selectors.choice,(t=>{e(t.currentTarget).toggleClass("active")}))}getValue(t){return e(t).find(`${this.selectors.value}.active`).map(((e,t)=>t.getAttribute(`data-${this.data.value}`))).get()}}class l extends t{static get type(){return"menu"}get events(){return[{type:"click",selector:this.selectors.choice}]}get selectors(){return{choice:".dropdown-item",value:".dropdown-item"}}get data(){return{value:`${this.constructor.prefix}-value`}}initialize(t){const r=e(t);r.on("click",this.selectors.value,(e=>{r.data(this.data.value,e.currentTarget.value)}))}getValue(t){return e(t).data(this.data.value)}}class o extends t{static get type(){return"radiogroup"}get events(){return["change"]}get selectors(){return{choice:".form-check-label,.btn",value:".form-check-input,.btn-check"}}getValue(t){return e(t).find(this.selectors.value).filter(":checked").val()}receiveMessage(t,r){const s=e(t),i=s.find(this.selectors.value);r.hasOwnProperty("options")&&(s.find(".form-check").remove(),s.html(r.options)),r.hasOwnProperty("select")&&(i.prop("checked",!1),i.filter(((e,t)=>r.select.includes(t.value))).prop("checked",!0)),r.hasOwnProperty("disable")&&(i.prop("disabled",!1),i.filter(((e,t)=>r.disable.includes(t.value))).prop("disabled",!0)),s.trigger("change")}}class u extends t{static get type(){return"range"}get events(){return["change"]}get selectors(){return{value:".form-range"}}getValue(t){return+e(t).find(this.selectors.value).val()}receiveMessage(t,r){const s=e(t),i=s.find(this.selectors.value);r.hasOwnProperty("value")&&i.val(r.value),r.hasOwnProperty("disable")&&i.prop("disable",r.disable),s.trigger("change")}}class p extends t{static get type(){return"select"}get events(){return["change"]}get selectors(){return{value:"option"}}getValue(e){return e.value}receiveMessage(t,r){const s=e(t);if(console.log(r),r.hasOwnProperty("options")&&(s.find(this.selectors.value).remove(),s.html(r.options)),r.hasOwnProperty("select")&&s.val(r.select),r.hasOwnProperty("disable")){console.log("disable");const e=s.find("option");e.prop("disabled",!1),e.filter(((e,t)=>r.disable.includes(t.value))).prop("disabled",!0)}s.trigger("change")}}class g extends t{static get type(){return"text"}get events(){return["keyup","input","change"]}get selectors(){return{value:"input"}}getValue(e){return e.value}getRatePolicy(e){return{policy:"debounce",delay:250}}receiveMessage(t,r){const s=e(t);r.hasOwnProperty("value")&&s.val(r.value),r.hasOwnProperty("disable")&&s.prop("disabled",r.disable),s.trigger("change")}}class d extends t{static get type(){return"textgroup"}get events(){return["keyup","input","change"]}get selectors(){return{value:"input",text:".input-group-text"}}getValue(t){const r=e(t);return r.find(this.selectors.value).val()?r.find(`${this.selectors.text},${this.selectors.value}`).map(((e,t)=>t.innerText||t.value||"")).get().join(""):null}getRatePolicy(e){return{policy:"debounce",delay:250}}receiveMessage(t,r){const s=e(t),i=e(t).find(this.selectors.value);r.hasOwnProperty("value")&&i.val(r.value),r.hasOwnProperty("disable")&&i.prop("disabled",r.disable),s.trigger("change")}}!function(){if(Shiny){const e=Shiny.inputBindings;e.register(new r,r.type),e.register(new s,s.type),e.register(new i,i.type),e.register(new n,n.type),e.register(new c,c.type),e.register(new a,a.type),e.register(new l,l.type),e.register(new o,o.type),e.register(new u,u.type),e.register(new p,p.type),e.register(new g,g.type),e.register(new d,d.type)}}()}));
//# sourceMappingURL=bsides.min.js.map