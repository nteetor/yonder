{"version":3,"file":"bsides.js","sources":["../../js/inputs/input.js","../../js/inputs/checkbox.js","../../js/inputs/checkbox-button.js","../../js/bsides.js"],"sourcesContent":["import $ from 'jquery'\n\nclass Input {\n  static get type() {\n    return `bsides.${this.name}`\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  static get priority() {\n    return 'deferred'\n  }\n\n  static get events() {\n    return []\n  }\n\n  static find(scope) {\n    return $(scope).find(`.bsides-${this.name}`)\n  }\n\n  static getId(element) {\n    return element.id\n  }\n\n  static getType(element) {\n    return null\n  }\n\n  static getValue(element) {\n    throw 'not implemented'\n  }\n\n  static subscribe(element, callback) {\n    this.events.forEach((event) => {\n      $(element).on(`${event}${this.namespace}`, () => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  static unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  static receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  static getState(element) {\n    let input = InputStore.get(element, this.type)\n\n    if (!input) {\n      return\n    }\n\n    return { value: input.values() }\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  static getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  static initialize(element) {\n\n  }\n\n  static dispose(element) {\n\n  }\n}\n\nexport default Input\n","import $ from 'jquery'\n\nimport Input from './input.js'\n\nclass CheckboxInput extends Input {\n  static get name() {\n    return 'checkbox'\n  }\n\n  static get events() {\n    return ['change']\n  }\n\n  static get selectors() {\n    return {\n      choice: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  static getType(element) {\n    return this.type\n  }\n\n  static getValue(element) {\n    let pairs =\n      $(element)\n      .find(this.selectors.value)\n      .map((i, e) => [[e.value, e.checked]])\n      .get()\n\n    return Object.fromEntries(pairs)\n  }\n\n  static receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxInput\n","import $ from 'jquery'\n\nimport Input from './input.js'\n\nclass CheckboxButtonInput extends Input {\n  static get name() {\n    return 'checkbox-button'\n  }\n\n  static get events() {\n    return ['change']\n  }\n\n  static get selectors() {\n    return {\n      choice: '.btn',\n      value: '.btn-check'\n    }\n  }\n\n  static getType(element) {\n    return this.type\n  }\n\n  static getValue(element) {\n    let pairs =\n      $(element)\n      .find(this.selectors.value)\n      .map((i, e) => [[e.value, e.checked]])\n      .get()\n\n    return Object.fromEntries(pairs)\n  }\n\n  static receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element\n        .find(`${this.selectors.choice},${this.selectors.value}`)\n        .remove()\n\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      console.log($values)\n      console.log($values.filter((i, e) => data.select.includes(e.value)))\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxButtonInput\n","//import ButtonInput from './inputs/button.js'\nimport CheckboxInput from './inputs/checkbox.js'\nimport CheckboxButtonInput from './inputs/checkbox-button.js'\n//import LinkInput from './inputs/link.js'\n\nif (Shiny) {\n  Shiny.inputBindings.register(CheckboxInput)\n  Shiny.inputBindings.register(CheckboxButtonInput)\n}\n\nexport default {\n//  ButtonInput,\n  CheckboxInput,\n  CheckboxButtonInput\n//  LinkInput\n}\n"],"names":["Input","type","name","namespace","priority","events","find","scope","$","getId","element","id","getType","getValue","subscribe","callback","forEach","event","on","unsubscribe","off","receiveMessage","data","getState","input","InputStore","get","value","values","getRatePolicy","initialize","dispose","CheckboxInput","selectors","choice","pairs","map","i","e","checked","Object","fromEntries","$element","$values","hasOwnProperty","remove","html","options","prop","filter","select","includes","disable","trigger","CheckboxButtonInput","console","log","Shiny","inputBindings","register"],"mappings":"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"}