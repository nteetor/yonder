{"version":3,"names":["Input","type","this","name","namespace","priority","events","find","scope","$","getId","element","id","getType","getValue","subscribe","callback","forEach","event","on","unsubscribe","off","receiveMessage","data","getState","input","InputStore","get","value","values","getRatePolicy","initialize","dispose","CheckboxInput","selectors","choice","pairs","map","i","e","checked","Object","fromEntries","$element","$values","hasOwnProperty","remove","html","options","prop","filter","select","includes","disable","trigger","CheckboxButtonInput","console","log","Shiny","inputBindings","register"],"sources":["../../js/inputs/input.js","../../js/inputs/checkbox.js","../../js/inputs/checkbox-button.js","../../js/bsides.js"],"sourcesContent":["import $ from 'jquery'\n\nclass Input {\n  static get type() {\n    return `bsides.${this.name}`\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  static get priority() {\n    return 'deferred'\n  }\n\n  static get events() {\n    return []\n  }\n\n  static find(scope) {\n    return $(scope).find(`.bsides-${this.name}`)\n  }\n\n  static getId(element) {\n    return element.id\n  }\n\n  static getType(element) {\n    return null\n  }\n\n  static getValue(element) {\n    throw 'not implemented'\n  }\n\n  static subscribe(element, callback) {\n    this.events.forEach((event) => {\n      $(element).on(`${event}${this.namespace}`, () => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  static unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  static receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  static getState(element) {\n    let input = InputStore.get(element, this.type)\n\n    if (!input) {\n      return\n    }\n\n    return { value: input.values() }\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  static getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  static initialize(element) {\n\n  }\n\n  static dispose(element) {\n\n  }\n}\n\nexport default Input\n","import $ from 'jquery'\n\nimport Input from './input.js'\n\nclass CheckboxInput extends Input {\n  static get name() {\n    return 'checkbox'\n  }\n\n  static get events() {\n    return ['change']\n  }\n\n  static get selectors() {\n    return {\n      choice: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  static getType(element) {\n    return this.type\n  }\n\n  static getValue(element) {\n    let pairs =\n      $(element)\n      .find(this.selectors.value)\n      .map((i, e) => [[e.value, e.checked]])\n      .get()\n\n    return Object.fromEntries(pairs)\n  }\n\n  static receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxInput\n","import $ from 'jquery'\n\nimport Input from './input.js'\n\nclass CheckboxButtonInput extends Input {\n  static get name() {\n    return 'checkbox-button'\n  }\n\n  static get events() {\n    return ['change']\n  }\n\n  static get selectors() {\n    return {\n      choice: '.btn',\n      value: '.btn-check'\n    }\n  }\n\n  static getType(element) {\n    return this.type\n  }\n\n  static getValue(element) {\n    let pairs =\n      $(element)\n      .find(this.selectors.value)\n      .map((i, e) => [[e.value, e.checked]])\n      .get()\n\n    return Object.fromEntries(pairs)\n  }\n\n  static receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element\n        .find(`${this.selectors.choice},${this.selectors.value}`)\n        .remove()\n\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      console.log($values)\n      console.log($values.filter((i, e) => data.select.includes(e.value)))\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxButtonInput\n","//import ButtonInput from './inputs/button.js'\nimport CheckboxInput from './inputs/checkbox.js'\nimport CheckboxButtonInput from './inputs/checkbox-button.js'\n//import LinkInput from './inputs/link.js'\n\nif (Shiny) {\n  Shiny.inputBindings.register(CheckboxInput)\n  Shiny.inputBindings.register(CheckboxButtonInput)\n}\n\nexport default {\n//  ButtonInput,\n  CheckboxInput,\n  CheckboxButtonInput\n//  LinkInput\n}\n"],"mappings":"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","ignoreList":[]}