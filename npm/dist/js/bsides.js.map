{"version":3,"file":"bsides.js","sources":["../../js/bindings/inputs/input.js","../../js/bindings/inputs/button.js","../../js/bindings/inputs/checkbox.js","../../js/bindings/inputs/checkbox-group.js","../../js/bindings/inputs/form.js","../../js/bindings/inputs/link.js","../../js/bindings/inputs/list-group.js","../../js/bindings/inputs/menu.js","../../js/bindings/inputs/index.js","../../js/bsides.js"],"sourcesContent":["import $ from 'jquery'\n\nclass InputBinding {\n  static get prefix() {\n    return 'bsides'\n  }\n\n  static get type() {\n    throw 'not implemented'\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  get events() {\n    return []\n  }\n\n  constructor() {\n    this.priority = 'deferred'\n  }\n\n  find(scope) {\n    return $(scope).find(`.${this.constructor.prefix}-${this.constructor.type}`)\n  }\n\n  getId(element) {\n    return element.id\n  }\n\n  getType(element) {\n    return null\n  }\n\n  getValue(element) {\n    throw 'not implemented'\n  }\n\n  subscribe(element, callback) {\n    this.events.forEach((e) => {\n      const event = `${e.type ? e.type : e}${this.constructor.namespace}`\n      const selector = e.selector ? e.selector : (null)\n\n      console.log(`${event}, ${selector}`)\n\n      $(element).on(event, selector, (e) => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  getState(element) {\n    throw 'not implemented'\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  initialize(element) {\n\n  }\n\n  dispose(element) {\n\n  }\n}\n\nexport default InputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ButtonInputBinding extends InputBinding {\n  static get type() {\n    return 'button'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n\n  receiveMessage(element, data) {\n\n  }\n}\n\nexport default ButtonInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxInputBinding extends InputBinding {\n  static get type() {\n    return 'checkbox'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      label: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  getValue(element) {\n    return $(element).children(this.selectors.value).prop('checked')\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('choice')) {\n      $element.find(this.selectors.label).html(data.choice)\n    }\n\n    if (data.hasOwnProperty('value')) {\n      console.log(data.value)\n      $element.find(this.selectors.value).prop('checked', data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $element.find(this.selectors.value).prop('disabled', data.disable)\n    }\n  }\n}\n\nexport default CheckboxInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'checkboxgroup'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label,.btn',\n      value: '.form-check-input,.btn-check'\n    }\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(this.selectors.value)\n      .filter(':checked')\n      .map((i, el) => el.value)\n      .get()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxGroupInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass FormInputBinding extends InputBinding {\n  static get type() {\n    return 'form'\n  }\n\n  get events() {\n    return [\n      { event: 'click', selector: this.selectors.submit }\n    ]\n  }\n\n  get selectors() {\n    return {\n      submit: '.bsides-btn-submit'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    let inputValues = new Map()\n\n    $element.on(`shiny:inputchanged${this.constructor.namespace}`, (event) => {\n      if (!event.el || event.priority === 'event') {\n        return\n      }\n\n      if (element.contains(event.el)) {\n        const name = event.inputType ? `${event.name}:${event.inputType}` : event.name\n\n        inputValues.set(name, event.value)\n        event.preventDefault()\n      }\n    })\n\n    $element.on(`click${this.constructor.namespace}`, this.selectors.submit, (event) => {\n      event.preventDefault()\n\n      for (const [key, value] of inputValues.entries()) {\n        Shiny.setInputValue(key, value, { priority: 'event' })\n      }\n\n      const value = event.currentTarget.value\n\n      $element.data(this.data.value, value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('submit')) {\n      const value = data.submit\n\n      $element\n        .find(`${this.selectors.submit}[value=${value}]`)\n        .trigger('click')\n    }\n  }\n}\n\nexport default FormInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass LinkInputBinding extends InputBinding {\n  static get type() {\n    return 'link'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n}\n\nexport default LinkInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ListGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'listgroup'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get selectors() {\n    return {\n      choice: '.list-group-item-action',\n      value: '.list-group-item-action'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.choice, (event) => {\n      const $choice = $(event.currentTarget)\n\n      $choice.toggleClass('active')\n    })\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(`${this.selectors.value}.active`)\n      .map((i, el) => el.getAttribute(`data-${this.data.value}`))\n      .get()\n  }\n}\n\nexport default ListGroupInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass MenuInputBinding extends InputBinding {\n  static get type() {\n    return 'menu'\n  }\n\n  get events() {\n    return [\n      { type: 'click', selector: this.selectors.choice }\n    ]\n  }\n\n  get selectors() {\n    return {\n      choice: '.dropdown-item',\n      value: '.dropdown-item'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.value, (event) => {\n      console.log(event.currentTarget.value)\n      $element.data(this.data.value, event.currentTarget.value)\n      console.log($element.data(this.data.value))\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n}\n\nexport default MenuInputBinding","import ButtonInputBinding from './button.js'\nimport CheckboxInputBinding from './checkbox.js'\nimport CheckboxGroupInputBinding from './checkbox-group.js'\nimport FormInputBinding from './form.js'\nimport LinkInputBinding from './link.js'\nimport ListGroupInputBinding from './list-group.js'\nimport MenuInputBinding from './menu.js'\n\nfunction registerInputBindings() {\n  if (Shiny) {\n    const inputBindings = Shiny.inputBindings\n\n    inputBindings.register(new ButtonInputBinding(), ButtonInputBinding.type)\n    inputBindings.register(new CheckboxInputBinding(), CheckboxInputBinding.type)\n    inputBindings.register(new CheckboxGroupInputBinding(), CheckboxGroupInputBinding.type)\n    inputBindings.register(new FormInputBinding(), FormInputBinding.type)\n    inputBindings.register(new LinkInputBinding(), LinkInputBinding.type)\n    inputBindings.register(new ListGroupInputBinding(), ListGroupInputBinding.type)\n    inputBindings.register(new MenuInputBinding(), MenuInputBinding.type)\n  }\n}\n\nexport {\n  registerInputBindings\n}","import { registerInputBindings } from './bindings/inputs'\n\nregisterInputBindings()\n"],"names":["InputBinding","prefix","type","namespace","events","constructor","priority","find","scope","$","getId","element","id","getType","getValue","subscribe","callback","forEach","e","event","selector","console","log","on","unsubscribe","off","receiveMessage","data","getState","getRatePolicy","initialize","dispose","ButtonInputBinding","clicks","$element","CheckboxInputBinding","selectors","label","value","children","prop","hasOwnProperty","html","choice","disable","CheckboxGroupInputBinding","filter","map","i","el","get","$values","remove","options","select","includes","trigger","FormInputBinding","submit","inputValues","Map","contains","name","inputType","set","preventDefault","key","entries","Shiny","setInputValue","currentTarget","LinkInputBinding","ListGroupInputBinding","$choice","toggleClass","getAttribute","MenuInputBinding","registerInputBindings","inputBindings","register"],"mappings":"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"}