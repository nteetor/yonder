{"version":3,"file":"bsides.js","sources":["../../js/bindings/inputs/input.js","../../js/bindings/inputs/button.js","../../js/bindings/inputs/checkbox.js","../../js/bindings/inputs/checkbox-group.js","../../js/bindings/inputs/form.js","../../js/bindings/inputs/link.js","../../js/bindings/inputs/list-group.js","../../js/bindings/inputs/menu.js","../../js/bindings/inputs/radio-group.js","../../js/bindings/inputs/range.js","../../js/bindings/inputs/select.js","../../js/bindings/inputs/index.js","../../js/bsides.js"],"sourcesContent":["import $ from 'jquery'\n\nclass InputBinding {\n  static get prefix() {\n    return 'bsides'\n  }\n\n  static get type() {\n    throw 'not implemented'\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  get events() {\n    return []\n  }\n\n  constructor() {\n    this.priority = 'deferred'\n  }\n\n  find(scope) {\n    return $(scope).find(`.${this.constructor.prefix}-${this.constructor.type}`)\n  }\n\n  getId(element) {\n    return element.id\n  }\n\n  getType(element) {\n    return null\n  }\n\n  getValue(element) {\n    throw 'not implemented'\n  }\n\n  subscribe(element, callback) {\n    this.events.forEach((e) => {\n      const event = `${e.type ? e.type : e}${this.constructor.namespace}`\n      const selector = e.selector ? e.selector : (null)\n\n      console.log(`${event}, ${selector}`)\n\n      $(element).on(event, selector, (e) => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  getState(element) {\n    throw 'not implemented'\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  initialize(element) {\n\n  }\n\n  dispose(element) {\n\n  }\n}\n\nexport default InputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ButtonInputBinding extends InputBinding {\n  static get type() {\n    return 'button'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n\n  receiveMessage(element, data) {\n\n  }\n}\n\nexport default ButtonInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxInputBinding extends InputBinding {\n  static get type() {\n    return 'checkbox'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      label: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  getValue(element) {\n    return $(element).children(this.selectors.value).prop('checked')\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $label = $element.find(this.selectors.label)\n    const $value = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('choice')) {\n      $label.html(data.choice)\n    }\n\n    if (data.hasOwnProperty('value')) {\n      $value.prop('checked', data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $value.prop('disabled', data.disable)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'checkboxgroup'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label,.btn',\n      value: '.form-check-input,.btn-check'\n    }\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(this.selectors.value)\n      .filter(':checked')\n      .map((i, el) => el.value)\n      .get()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxGroupInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass FormInputBinding extends InputBinding {\n  static get type() {\n    return 'form'\n  }\n\n  get events() {\n    return [\n      { event: 'click', selector: this.selectors.submit }\n    ]\n  }\n\n  get selectors() {\n    return {\n      submit: '.bsides-btn-submit'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    let inputValues = new Map()\n\n    $element.on(`shiny:inputchanged${this.constructor.namespace}`, (event) => {\n      if (!event.el || event.priority === 'event') {\n        return\n      }\n\n      if (element.contains(event.el)) {\n        const name = event.inputType ? `${event.name}:${event.inputType}` : event.name\n\n        inputValues.set(name, event.value)\n        event.preventDefault()\n      }\n    })\n\n    $element.on(`click${this.constructor.namespace}`, this.selectors.submit, (event) => {\n      event.preventDefault()\n\n      for (const [key, value] of inputValues.entries()) {\n        Shiny.setInputValue(key, value, { priority: 'event' })\n      }\n\n      const value = event.currentTarget.value\n\n      $element.data(this.data.value, value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('submit')) {\n      const value = data.submit\n\n      $element\n        .find(`${this.selectors.submit}[value=${value}]`)\n        .trigger('click')\n    }\n  }\n}\n\nexport default FormInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass LinkInputBinding extends InputBinding {\n  static get type() {\n    return 'link'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n}\n\nexport default LinkInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ListGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'listgroup'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get selectors() {\n    return {\n      choice: '.list-group-item-action',\n      value: '.list-group-item-action'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.choice, (event) => {\n      const $choice = $(event.currentTarget)\n\n      $choice.toggleClass('active')\n    })\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(`${this.selectors.value}.active`)\n      .map((i, el) => el.getAttribute(`data-${this.data.value}`))\n      .get()\n  }\n}\n\nexport default ListGroupInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass MenuInputBinding extends InputBinding {\n  static get type() {\n    return 'menu'\n  }\n\n  get events() {\n    return [\n      { type: 'click', selector: this.selectors.choice }\n    ]\n  }\n\n  get selectors() {\n    return {\n      choice: '.dropdown-item',\n      value: '.dropdown-item'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.value, (event) => {\n      $element.data(this.data.value, event.currentTarget.value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n}\n\nexport default MenuInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass RadioGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'radiogroup'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label,.btn',\n      value: '.form-check-input,.btn-check'\n    }\n  }\n\n  /*getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }*/\n\n  getValue(element) {\n    return $(element)\n      .find(this.selectors.value)\n      .filter(':checked')\n      .val()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default RadioGroupInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass RangeInputBinding extends InputBinding {\n  static get type() {\n    return 'range'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      value: '.form-range'\n    }\n  }\n\n  getValue(element) {\n    return +$(element).find(this.selectors.value).val()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $value = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('value')) {\n      $value.val(data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $value.prop('disable', data.disable)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default RangeInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass SelectInputBinding extends InputBinding {\n  static get type() {\n    return 'select'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      value: 'option'\n    }\n  }\n\n  getValue(element) {\n    return element.value;\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    console.log(data)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find(this.selectors.value).remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $element.val(data.select)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      console.log('disable')\n      const $values = $element.find('option')\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default SelectInputBinding","import ButtonInputBinding from './button.js'\nimport CheckboxInputBinding from './checkbox.js'\nimport CheckboxGroupInputBinding from './checkbox-group.js'\nimport FormInputBinding from './form.js'\nimport LinkInputBinding from './link.js'\nimport ListGroupInputBinding from './list-group.js'\nimport MenuInputBinding from './menu.js'\nimport RadioGroupInputBinding from './radio-group.js'\nimport RangeInputBinding from './range.js'\nimport SelectInputBinding from './select.js'\n\nfunction registerInputBindings() {\n  if (Shiny) {\n    const inputBindings = Shiny.inputBindings\n\n    inputBindings.register(new ButtonInputBinding(), ButtonInputBinding.type)\n    inputBindings.register(new CheckboxInputBinding(), CheckboxInputBinding.type)\n    inputBindings.register(new CheckboxGroupInputBinding(), CheckboxGroupInputBinding.type)\n    inputBindings.register(new FormInputBinding(), FormInputBinding.type)\n    inputBindings.register(new LinkInputBinding(), LinkInputBinding.type)\n    inputBindings.register(new ListGroupInputBinding(), ListGroupInputBinding.type)\n    inputBindings.register(new MenuInputBinding(), MenuInputBinding.type)\n    inputBindings.register(new RadioGroupInputBinding(), RadioGroupInputBinding.type)\n    inputBindings.register(new RangeInputBinding(), RangeInputBinding.type)\n    inputBindings.register(new SelectInputBinding(), SelectInputBinding.type)\n  }\n}\n\nexport {\n  registerInputBindings\n}","import { registerInputBindings } from './bindings/inputs'\n\nregisterInputBindings()\n"],"names":["InputBinding","prefix","type","namespace","events","constructor","priority","find","scope","$","getId","element","id","getType","getValue","subscribe","callback","forEach","e","event","selector","console","log","on","unsubscribe","off","receiveMessage","data","getState","getRatePolicy","initialize","dispose","ButtonInputBinding","clicks","$element","CheckboxInputBinding","selectors","label","value","children","prop","$label","$value","hasOwnProperty","html","choice","disable","trigger","CheckboxGroupInputBinding","filter","map","i","el","get","$values","remove","options","select","includes","FormInputBinding","submit","inputValues","Map","contains","name","inputType","set","preventDefault","key","entries","Shiny","setInputValue","currentTarget","LinkInputBinding","ListGroupInputBinding","$choice","toggleClass","getAttribute","MenuInputBinding","RadioGroupInputBinding","val","RangeInputBinding","SelectInputBinding","registerInputBindings","inputBindings","register"],"mappings":"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"}