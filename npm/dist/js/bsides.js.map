{"version":3,"file":"bsides.js","sources":["../../js/utils/index.js","../../js/bindings/inputs/input.js","../../js/bindings/inputs/button.js","../../js/bindings/inputs/checkbox.js","../../js/bindings/inputs/checkbox-group.js","../../js/bindings/inputs/form.js","../../js/bindings/inputs/link.js","../../js/bindings/inputs/list-group.js","../../js/bindings/inputs/menu.js","../../js/bindings/inputs/radio-group.js","../../js/bindings/inputs/range.js","../../js/bindings/inputs/select.js","../../js/bindings/inputs/text.js","../../js/bindings/inputs/text-group.js","../../js/bindings/inputs/index.js","../../js/components/toast.js","../../js/components/modal.js","../../js/bsides.js"],"sourcesContent":["const pkg = {\n  prefix: 'bsides'\n}\n\nfunction addCustomMessageHandler(type, handler) {\n  if (window.Shiny) {\n    Shiny.addCustomMessageHandler(`${pkg.prefix}:${type}`, handler)\n  }\n}\n\nfunction initialize(callback) {\n  if (document.readyState === 'complete') {\n    callback()\n  } else {\n    document.addEventListener('DOMContentLoaded', callback)\n  }\n}\n\nfunction registerBinding(binding) {\n  if (window.Shiny) {\n    Shiny\n      .inputBindings\n      .register(new binding(), `${pkg.prefix}.${binding.type}`)\n  }\n}\n\nexport {\n  pkg,\n  initialize,\n  registerBinding,\n  addCustomMessageHandler\n}","import $ from 'jquery'\n\nimport { pkg } from '../../utils'\n\nclass InputBinding {\n  static get prefix() {\n    return pkg.prefix\n  }\n\n  static get type() {\n    throw 'not implemented'\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  get events() {\n    return []\n  }\n\n  constructor() {\n    this.priority = 'deferred'\n  }\n\n  find(scope) {\n    return $(scope).find(`.${this.constructor.prefix}-${this.constructor.type}`)\n  }\n\n  getId(element) {\n    return element.id\n  }\n\n  getType(element) {\n    return null\n  }\n\n  getValue(element) {\n    throw 'not implemented'\n  }\n\n  subscribe(element, callback) {\n    this.events.forEach((e) => {\n      const event = `${e.type || e}${this.constructor.namespace}`\n      const selector = e.selector || null\n\n      $(element).on(event, selector, (e) => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  getState(element) {\n    throw 'not implemented'\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  initialize(element) {\n\n  }\n\n  dispose(element) {\n\n  }\n}\n\nexport default InputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ButtonInputBinding extends InputBinding {\n  static get type() {\n    return 'button'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n\n  receiveMessage(element, data) {\n\n  }\n}\n\nexport default ButtonInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxInputBinding extends InputBinding {\n  static get type() {\n    return 'checkbox'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      label: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  getValue(element) {\n    return $(element).children(this.selectors.value).prop('checked')\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $label = $element.find(this.selectors.label)\n    const $value = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('choice')) {\n      $label.html(data.choice)\n    }\n\n    if (data.hasOwnProperty('value')) {\n      $value.prop('checked', data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $value.prop('disabled', data.disable)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'checkboxgroup'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label,.btn',\n      value: '.form-check-input,.btn-check'\n    }\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(this.selectors.value)\n      .filter(':checked')\n      .map((i, el) => el.value)\n      .get()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxGroupInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass FormInputBinding extends InputBinding {\n  static get type() {\n    return 'form'\n  }\n\n  get events() {\n    return [\n      { event: 'click', selector: this.selectors.submit }\n    ]\n  }\n\n  get selectors() {\n    return {\n      submit: '.bsides-btn-submit'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    let inputValues = new Map()\n\n    $element.on(`shiny:inputchanged${this.constructor.namespace}`, (event) => {\n      if (!event.el || event.priority === 'event') {\n        return\n      }\n\n      if (element.contains(event.el)) {\n        const name = event.inputType ? `${event.name}:${event.inputType}` : event.name\n\n        inputValues.set(name, event.value)\n        event.preventDefault()\n      }\n    })\n\n    $element.on(`click${this.constructor.namespace}`, this.selectors.submit, (event) => {\n      event.preventDefault()\n\n      for (const [key, value] of inputValues.entries()) {\n        Shiny.setInputValue(key, value, { priority: 'event' })\n      }\n\n      const value = event.currentTarget.value\n\n      $element.data(this.data.value, value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('submit')) {\n      const value = data.submit\n\n      $element\n        .find(`${this.selectors.submit}[value=${value}]`)\n        .trigger('click')\n    }\n  }\n}\n\nexport default FormInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass LinkInputBinding extends InputBinding {\n  static get type() {\n    return 'link'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n}\n\nexport default LinkInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ListGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'listgroup'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get selectors() {\n    return {\n      choice: '.list-group-item-action',\n      value: '.list-group-item-action'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.choice, (event) => {\n      const $choice = $(event.currentTarget)\n\n      $choice.toggleClass('active')\n    })\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(`${this.selectors.value}.active`)\n      .map((i, el) => el.getAttribute(`data-${this.data.value}`))\n      .get()\n  }\n}\n\nexport default ListGroupInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass MenuInputBinding extends InputBinding {\n  static get type() {\n    return 'menu'\n  }\n\n  get events() {\n    return [\n      { type: 'click', selector: this.selectors.choice }\n    ]\n  }\n\n  get selectors() {\n    return {\n      choice: '.dropdown-item',\n      value: '.dropdown-item'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.value, (event) => {\n      $element.data(this.data.value, event.currentTarget.value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n}\n\nexport default MenuInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass RadioGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'radiogroup'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label,.btn',\n      value: '.form-check-input,.btn-check'\n    }\n  }\n\n  /*getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }*/\n\n  getValue(element) {\n    return $(element)\n      .find(this.selectors.value)\n      .filter(':checked')\n      .val()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default RadioGroupInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass RangeInputBinding extends InputBinding {\n  static get type() {\n    return 'range'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      value: '.form-range'\n    }\n  }\n\n  getValue(element) {\n    return +$(element).find(this.selectors.value).val()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $value = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('value')) {\n      $value.val(data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $value.prop('disable', data.disable)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default RangeInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass SelectInputBinding extends InputBinding {\n  static get type() {\n    return 'select'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      value: 'option'\n    }\n  }\n\n  getValue(element) {\n    return element.value;\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    console.log(data)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find(this.selectors.value).remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $element.val(data.select)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      console.log('disable')\n      const $values = $element.find('option')\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default SelectInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass TextInputBinding extends InputBinding {\n  static get type() {\n    return 'text'\n  }\n\n  get events() {\n    return [\n      'keyup',\n      'input',\n      'change'\n    ]\n  }\n\n  get selectors() {\n    return {\n      value: 'input'\n    }\n  }\n\n  getValue(element) {\n    return element.value\n  }\n\n  getRatePolicy(element) {\n    return {\n      policy: 'debounce',\n      delay: 250\n    }\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('value')) {\n      $element.val(data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $element.prop('disabled', data.disable)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default TextInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass TextGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'textgroup'\n  }\n\n  get events() {\n    return [\n      'keyup',\n      'input',\n      'change'\n    ]\n  }\n\n  get selectors() {\n    return {\n      value: 'input',\n      text: '.input-group-text'\n    }\n  }\n\n  getValue(element) {\n    const $element = $(element)\n\n    if (!$element.find(this.selectors.value).val()) {\n      return null\n    }\n\n    return $element\n      .find(`${this.selectors.text},${this.selectors.value}`)\n      .map((i, e) => e.innerText || e.value || '')\n      .get()\n      .join('')\n  }\n\n  getRatePolicy(element) {\n    return {\n      policy: 'debounce',\n      delay: 250\n    }\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $value = $(element).find(this.selectors.value)\n\n    if (data.hasOwnProperty('value')) {\n      $value.val(data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $value.prop('disabled', data.disable)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default TextGroupInputBinding","import { registerBinding } from '../../utils'\n\nimport InputBinding from './input.js'\n\nimport ButtonInputBinding from './button.js'\nimport CheckboxInputBinding from './checkbox.js'\nimport CheckboxGroupInputBinding from './checkbox-group.js'\nimport FormInputBinding from './form.js'\nimport LinkInputBinding from './link.js'\nimport ListGroupInputBinding from './list-group.js'\nimport MenuInputBinding from './menu.js'\nimport RadioGroupInputBinding from './radio-group.js'\nimport RangeInputBinding from './range.js'\nimport SelectInputBinding from './select.js'\nimport TextInputBinding from './text.js'\nimport TextGroupInputBinding from './text-group.js'\n\nfunction registerInputs() {\n  registerBinding(ButtonInputBinding)\n  registerBinding(CheckboxInputBinding)\n  registerBinding(CheckboxGroupInputBinding)\n  registerBinding(FormInputBinding)\n  registerBinding(LinkInputBinding)\n  registerBinding(ListGroupInputBinding)\n  registerBinding(MenuInputBinding)\n  registerBinding(RadioGroupInputBinding)\n  registerBinding(RangeInputBinding)\n  registerBinding(SelectInputBinding)\n  registerBinding(TextInputBinding)\n  registerBinding(TextGroupInputBinding)\n}\n\nexport {\n  InputBinding,\n  registerInputs\n}","import $ from 'jquery'\nimport { renderContentAsync } from 'Shiny'\n\nimport { addCustomMessageHandler, registerBinding } from '../utils'\nimport { InputBinding } from '../bindings/inputs/'\n\nclass Toast extends bootstrap.Toast {\n  constructor(toast) {\n    super(toast, {})\n  }\n\n  get state() {\n    return this.isShown() ? 'shown' : 'hidden'\n  }\n\n  show(duration) {\n    if (duration) {\n      this._config.delay = duration\n      this._config.autohide = true\n    }\n\n    super.show()\n  }\n\n  static addMessageHandlers() {\n    addCustomMessageHandler('toastAdd', async function(data) {\n      if (!data.target) {\n        return\n      }\n\n      const container = document.getElementById(data.target)\n\n      if (!container) {\n        return\n      }\n\n      await renderContentAsync(container, data.toast, 'beforeend')\n    })\n  }\n}\n\nclass ToastInputBinding extends InputBinding {\n  static get type() {\n    return 'toast'\n  }\n\n  get events() {\n    return [\n      'shown.bs.toast',\n      'hidden.bs.toast'\n    ]\n  }\n\n  initialize(element) {\n    new Toast(element)\n  }\n\n  getValue(element) {\n    const toast = Toast.getInstance(element)\n\n    if (!toast) {\n      return\n    }\n\n    return toast.state\n  }\n\n  receiveMessage(element, data) {\n    const toast = Toast.getInstance(element)\n\n    if (!toast) {\n      return\n    }\n\n    if (data.method === 'show') {\n      toast.show(data.duration)\n    } else if (data.method === 'hide') {\n      toast.hide()\n    }\n  }\n}\n\nToast.addMessageHandlers()\n\nregisterBinding(ToastInputBinding)\n\nexport {\n  Toast,\n  ToastInputBinding\n}\n","import { unbindAll, renderContentAsync } from 'Shiny'\n\nimport { addCustomMessageHandler, registerBinding } from '../utils'\nimport { InputBinding } from '../bindings/inputs'\n\nclass Modal extends bootstrap.Modal {\n\n  isShown() {\n    return this._isShown\n  }\n\n  static addMessageHandlers() {\n    addCustomMessageHandler('modalShow', (data) => {\n      if (typeof data.modal === 'object') {\n        this.showOrInsertModal(data.modal)\n      } else {\n        const el = document.getElementById(data.modal)\n\n        if (!el) {\n          return\n        }\n\n        const modal = Modal.getOrCreateInstance(el)\n\n        modal.show()\n      }\n    })\n  }\n\n  static async showOrInsertModal(content) {\n    const el = document.createElement('div')\n    el.innerHTML = content.html\n\n    const id = el.firstChild && el.firstChild.id\n    const existing = document.getElementById(id)\n\n    if (existing) {\n      unbindAll(existing, true)\n      existing.remove()\n    }\n\n    await renderContentAsync(document.body, content, 'beforeend')\n\n    const modal = new Modal(document.getElementById(id))\n\n    modal.show()\n  }\n}\n\nclass ModalInputBinding extends InputBinding {\n  static get type() {\n    return 'modal'\n  }\n\n  get events() {\n    return [\n      'shown.bs.modal',\n      'hidden.bs.modal'\n    ]\n  }\n\n  getValue(element) {\n    const modal = Modal.getInstance(element)\n\n    if (!modal) {\n      return null\n    }\n\n    return modal.isShown() ? 'shown' : 'hidden'\n  }\n}\n\nModal.addMessageHandlers()\n\nregisterBinding(ModalInputBinding)\n\nexport default {\n  Modal,\n  ModalInputBinding\n}\n","import { initialize } from './utils'\nimport { registerInputs } from './bindings/inputs'\n\nimport './components/toast.js'\nimport './components/modal.js'\n\ninitialize(() => {\n  registerInputs()\n})\n"],"names":["pkg","prefix","addCustomMessageHandler","type","handler","window","Shiny","initialize","callback","document","readyState","addEventListener","registerBinding","binding","inputBindings","register","InputBinding","namespace","events","constructor","priority","find","scope","$","getId","element","id","getType","getValue","subscribe","forEach","e","event","selector","on","unsubscribe","off","receiveMessage","data","getState","getRatePolicy","dispose","ButtonInputBinding","clicks","$element","CheckboxInputBinding","selectors","label","value","children","prop","$label","$value","hasOwnProperty","html","choice","disable","trigger","CheckboxGroupInputBinding","filter","map","i","el","get","$values","remove","options","select","includes","FormInputBinding","submit","inputValues","Map","contains","name","inputType","set","preventDefault","key","entries","setInputValue","currentTarget","LinkInputBinding","ListGroupInputBinding","$choice","toggleClass","getAttribute","MenuInputBinding","RadioGroupInputBinding","val","RangeInputBinding","SelectInputBinding","console","log","TextInputBinding","policy","delay","TextGroupInputBinding","text","innerText","join","registerInputs","Toast","bootstrap","toast","state","isShown","show","duration","_config","autohide","addMessageHandlers","target","container","getElementById","renderContentAsync","ToastInputBinding","getInstance","method","hide","Modal","_isShown","modal","showOrInsertModal","getOrCreateInstance","content","createElement","innerHTML","firstChild","existing","unbindAll","body","ModalInputBinding"],"mappings":"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"}