{"version":3,"file":"bsides.js","sources":["../../js/bindings/inputs/input.js","../../js/bindings/inputs/button.js","../../js/bindings/inputs/checkbox.js","../../js/bindings/inputs/checkbox-group.js","../../js/bindings/inputs/form.js","../../js/bindings/inputs/link.js","../../js/bindings/inputs/list-group.js","../../js/bindings/inputs/index.js","../../js/bsides.js"],"sourcesContent":["import $ from 'jquery'\n\nclass InputBinding {\n  static get prefix() {\n    return 'bsides'\n  }\n\n  static get type() {\n    throw 'not implemented'\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  get events() {\n    return []\n  }\n\n  constructor() {\n    this.priority = 'deferred'\n  }\n\n  find(scope) {\n    return $(scope).find(`.${this.constructor.prefix}-${this.constructor.type}`)\n  }\n\n  getId(element) {\n    return element.id\n  }\n\n  getType(element) {\n    return null\n  }\n\n  getValue(element) {\n    throw 'not implemented'\n  }\n\n  subscribe(element, callback) {\n    this.events.forEach((e) => {\n      const event = `${e.type ? e.type : e}${this.constructor.namespace}`\n      const selector = e.selector ? e.selector : (null)\n\n      $(element).on(event, selector, (e) => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  getState(element) {\n    throw 'not implemented'\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  initialize(element) {\n\n  }\n\n  dispose(element) {\n\n  }\n}\n\nexport default InputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ButtonInputBinding extends InputBinding {\n  static get type() {\n    return 'button'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n\n  receiveMessage(element, data) {\n\n  }\n}\n\nexport default ButtonInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxInputBinding extends InputBinding {\n  static get type() {\n    return 'checkbox'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      label: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  getValue(element) {\n    return $(element).children(this.selectors.value).prop('checked')\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('choice')) {\n      $element.find(this.selectors.label).html(data.choice)\n    }\n\n    if (data.hasOwnProperty('value')) {\n      console.log(data.value)\n      $element.find(this.selectors.value).prop('checked', data.value)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $element.find(this.selectors.value).prop('disabled', data.disable)\n    }\n  }\n}\n\nexport default CheckboxInputBinding","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'checkboxgroup'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label,.btn',\n      value: '.form-check-input,.btn-check'\n    }\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(this.selectors.value)\n      .filter(':checked')\n      .map((i, el) => el.value)\n      .get()\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxGroupInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass FormInputBinding extends InputBinding {\n  static get type() {\n    return 'form'\n  }\n\n  get events() {\n    return [\n      { event: 'click', selector: this.selectors.submit }\n    ]\n  }\n\n  get selectors() {\n    return {\n      submit: '.bsides-btn-submit'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    let inputValues = new Map()\n\n    $element.on(`shiny:inputchanged${this.constructor.namespace}`, (event) => {\n      if (!event.el || event.priority === 'event') {\n        return\n      }\n\n      if (element.contains(event.el)) {\n        const name = event.inputType ? `${event.name}:${event.inputType}` : event.name\n\n        inputValues.set(name, event.value)\n        event.preventDefault()\n      }\n    })\n\n    $element.on(`click${this.constructor.namespace}`, this.selectors.submit, (event) => {\n      event.preventDefault()\n\n      for (const [key, value] of inputValues.entries()) {\n        Shiny.setInputValue(key, value, { priority: 'event' })\n      }\n\n      const value = event.currentTarget.value\n\n      $element.data(this.data.value, value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('submit')) {\n      const value = data.submit\n\n      $element\n        .find(`${this.selectors.submit}[value=${value}]`)\n        .trigger('click')\n    }\n  }\n}\n\nexport default FormInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass LinkInputBinding extends InputBinding {\n  static get type() {\n    return 'link'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n}\n\nexport default LinkInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ListGroupInputBinding extends InputBinding {\n  static get type() {\n    return 'listgroup'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get selectors() {\n    return {\n      choice: '.list-group-item-action',\n      value: '.list-group-item-action'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.on('click', this.selectors.choice, (event) => {\n      const $choice = $(event.currentTarget)\n\n      $choice.toggleClass('active')\n    })\n  }\n\n  getValue(element) {\n    return $(element)\n      .find(`${this.selectors.value}.active`)\n      .map((i, el) => el.getAttribute(`data-${this.data.value}`))\n      .get()\n  }\n}\n\nexport default ListGroupInputBinding","import ButtonInputBinding from './button.js'\nimport CheckboxInputBinding from './checkbox.js'\nimport CheckboxGroupInputBinding from './checkbox-group.js'\nimport FormInputBinding from './form.js'\nimport LinkInputBinding from './link.js'\nimport ListGroupInputBinding from './list-group.js'\n\nfunction registerInputBindings() {\n  if (Shiny) {\n    const inputBindings = Shiny.inputBindings\n\n    inputBindings.register(new ButtonInputBinding(), ButtonInputBinding.type)\n    inputBindings.register(new CheckboxInputBinding(), CheckboxInputBinding.type)\n    inputBindings.register(new CheckboxGroupInputBinding(), CheckboxGroupInputBinding.type)\n    inputBindings.register(new FormInputBinding(), FormInputBinding.type)\n    inputBindings.register(new LinkInputBinding(), LinkInputBinding.type)\n    inputBindings.register(new ListGroupInputBinding(), ListGroupInputBinding.type)\n  }\n}\n\nexport {\n  registerInputBindings\n}","import { registerInputBindings } from './bindings/inputs'\n\nregisterInputBindings()\n"],"names":["InputBinding","prefix","type","namespace","events","constructor","priority","find","scope","$","getId","element","id","getType","getValue","subscribe","callback","forEach","e","event","selector","on","unsubscribe","off","receiveMessage","data","getState","getRatePolicy","initialize","dispose","ButtonInputBinding","clicks","$element","CheckboxInputBinding","selectors","label","value","children","prop","hasOwnProperty","html","choice","console","log","disable","CheckboxGroupInputBinding","filter","map","i","el","get","$values","remove","options","select","includes","trigger","FormInputBinding","submit","inputValues","Map","contains","name","inputType","set","preventDefault","key","entries","Shiny","setInputValue","currentTarget","LinkInputBinding","ListGroupInputBinding","$choice","toggleClass","getAttribute","registerInputBindings","inputBindings","register"],"mappings":"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"}