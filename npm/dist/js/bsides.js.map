{"version":3,"file":"bsides.js","sources":["../../js/bindings/inputs/input.js","../../js/bindings/inputs/button.js","../../js/bindings/inputs/checkbox.js","../../js/bindings/inputs/checkbox-button.js","../../js/bindings/inputs/form.js","../../js/bindings/inputs/link.js","../../js/bindings/inputs/index.js","../../js/bsides.js"],"sourcesContent":["import $ from 'jquery'\n\nclass InputBinding {\n  static get prefix() {\n    return 'bsides'\n  }\n\n  static get type() {\n    throw 'not implemented'\n  }\n\n  static get namespace() {\n    return `.${this.type}`\n  }\n\n  get events() {\n    return []\n  }\n\n  constructor() {\n    this.priority = 'deferred'\n  }\n\n  find(scope) {\n    return $(scope).find(`.${this.constructor.prefix}-${this.constructor.type}`)\n  }\n\n  getId(element) {\n    return element.id\n  }\n\n  getType(element) {\n    return null\n  }\n\n  getValue(element) {\n    throw 'not implemented'\n  }\n\n  subscribe(element, callback) {\n    this.events.forEach((e) => {\n      const event = `${e.type ? e.type : e}${this.constructor.namespace}`\n      const selector = e.selector ? e.selector : (null)\n\n      console.log(event)\n      console.log(selector)\n\n      $(element).on(event, selector, (e) => {\n        callback(this.priority)\n      })\n    })\n  }\n\n  unsubscribe(element) {\n    $(element).off(this.namespace)\n  }\n\n  receiveMessage(element, data) {\n    throw 'not implemented'\n  }\n\n  getState(element) {\n    throw 'not implemented'\n  }\n\n  // @return { policy: RatePolicyModes, delay: number }\n  getRatePolicy(element) {\n    return null\n    element // unused\n  }\n\n  initialize(element) {\n\n  }\n\n  dispose(element) {\n\n  }\n}\n\nexport default InputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass ButtonInputBinding extends InputBinding {\n  static get type() {\n    return 'button'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n\n  receiveMessage(element, data) {\n\n  }\n}\n\nexport default ButtonInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxInputBinding extends InputBinding {\n  static get type() {\n    return 'checkbox'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.form-check-label',\n      value: '.form-check-input'\n    }\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    let pairs =\n      $(element)\n      .find(this.selectors.value)\n      .map((i, e) => [[e.value, e.checked]])\n      .get()\n\n    return Object.fromEntries(pairs)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element.find('.form-check').remove()\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass CheckboxButtonInputBinding extends InputBinding {\n  static get type() {\n    return 'checkboxbutton'\n  }\n\n  get events() {\n    return ['change']\n  }\n\n  get selectors() {\n    return {\n      choice: '.btn',\n      value: '.btn-check'\n    }\n  }\n\n  getType(element) {\n    console.log(this.constructor)\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    let pairs =\n      $(element)\n      .find(this.selectors.value)\n      .map((i, e) => [[e.value, e.checked]])\n      .get()\n\n    return Object.fromEntries(pairs)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n    const $values = $element.find(this.selectors.value)\n\n    if (data.hasOwnProperty('options')) {\n      $element\n        .find(`${this.selectors.choice},${this.selectors.value}`)\n        .remove()\n\n      $element.html(data.options)\n    }\n\n    if (data.hasOwnProperty('select')) {\n      $values.prop('checked', false)\n\n      console.log($values)\n      console.log($values.filter((i, e) => data.select.includes(e.value)))\n\n      $values\n        .filter((i, e) => data.select.includes(e.value))\n        .prop('checked', true)\n    }\n\n    if (data.hasOwnProperty('disable')) {\n      $values.prop('disabled', false)\n\n      $values\n        .filter((i, e) => data.disable.includes(e.value))\n        .prop('disabled', true)\n    }\n\n    $element.trigger('change')\n  }\n}\n\nexport default CheckboxButtonInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass FormInputBinding extends InputBinding {\n  static get type() {\n    return 'form'\n  }\n\n  get events() {\n    return [\n      { event: 'click', selector: this.selectors.submit }\n    ]\n  }\n\n  get selectors() {\n    return {\n      submit: '.bsides-btn-submit'\n    }\n  }\n\n  get data() {\n    return {\n      value: `${this.constructor.prefix}-value`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    let inputValues = new Map()\n\n    $element.on(`shiny:inputchanged${this.constructor.namespace}`, (event) => {\n      if (!event.el || event.priority === 'event') {\n        return\n      }\n\n      if (element.contains(event.el)) {\n        const name = event.inputType ? `${event.name}:${event.inputType}` : event.name\n\n        inputValues.set(name, event.value)\n        event.preventDefault()\n      }\n    })\n\n    $element.on(`click${this.constructor.namespace}`, this.selectors.submit, (event) => {\n      event.preventDefault()\n\n      for (const [key, value] of inputValues.entries()) {\n        Shiny.setInputValue(key, value, { priority: 'event' })\n      }\n\n      const value = event.currentTarget.value\n\n      $element.data(this.data.value, value)\n    })\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.value)\n  }\n\n  receiveMessage(element, data) {\n    const $element = $(element)\n\n    if (data.hasOwnProperty('submit')) {\n      console.log(data)\n\n      const value = data.submit\n\n      $element\n        .find(`${this.selectors.submit}[value=${value}]`)\n        .trigger('click')\n    }\n  }\n}\n\nexport default FormInputBinding\n","import $ from 'jquery'\n\nimport InputBinding from './input.js'\n\nclass LinkInputBinding extends InputBinding {\n  static get type() {\n    return 'link'\n  }\n\n  get events() {\n    return ['click']\n  }\n\n  get data() {\n    return {\n      clicks: `${this.constructor.prefix}-clicks`\n    }\n  }\n\n  initialize(element) {\n    const $element = $(element)\n\n    $element.data(this.data.clicks, 0)\n\n    $element.on(`click${this.constructor.namespace}`, (event) => {\n      const clicks = +$element.data(this.data.clicks)\n      $element.data(this.data.clicks, clicks + 1)\n    })\n  }\n\n  getType(element) {\n    return `${this.constructor.prefix}${this.constructor.namespace}`\n  }\n\n  getValue(element) {\n    return $(element).data(this.data.clicks)\n  }\n}\n\nexport default LinkInputBinding\n","import ButtonInputBinding from './button.js'\nimport CheckboxInputBinding from './checkbox.js'\nimport CheckboxButtonInputBinding from './checkbox-button.js'\nimport FormInputBinding from './form.js'\nimport LinkInputBinding from './link.js'\n\nfunction registerInputBindings() {\n  if (Shiny) {\n    const inputBindings = Shiny.inputBindings\n\n    inputBindings.register(new ButtonInputBinding(), ButtonInputBinding.type)\n    inputBindings.register(new CheckboxInputBinding(), CheckboxInputBinding.type)\n    inputBindings.register(new CheckboxButtonInputBinding(), CheckboxButtonInputBinding.type)\n    inputBindings.register(new FormInputBinding(), FormInputBinding.type)\n    inputBindings.register(new LinkInputBinding(), LinkInputBinding.type)\n  }\n}\n\nexport {\n  registerInputBindings\n}","import { registerInputBindings } from './bindings/inputs'\n\nregisterInputBindings()\n"],"names":["InputBinding","prefix","type","namespace","events","constructor","priority","find","scope","$","getId","element","id","getType","getValue","subscribe","callback","forEach","e","event","selector","console","log","on","unsubscribe","off","receiveMessage","data","getState","getRatePolicy","initialize","dispose","ButtonInputBinding","clicks","$element","CheckboxInputBinding","selectors","choice","value","pairs","map","i","checked","get","Object","fromEntries","$values","hasOwnProperty","remove","html","options","prop","filter","select","includes","disable","trigger","CheckboxButtonInputBinding","FormInputBinding","submit","inputValues","Map","el","contains","name","inputType","set","preventDefault","key","entries","Shiny","setInputValue","currentTarget","LinkInputBinding","registerInputBindings","inputBindings","register"],"mappings":"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"}